import{r as l,f as u,u as g,E as f,j as e,L as c,O as m}from"./index-Q6dyHrre.js";import{a as b,B as j,F as w,b as v,c as k}from"./index-Bkeb3vF4.js";function N({toggleSidebar:s}){const[a,t]=l.useState(!1),{logout:i}=u();g();const o=b.get("user_id"),{call:d}=f("internal_ticketing.ticketing_api.get_user_icon"),[x,h]=l.useState(null);l.useEffect(()=>{console.log("user_id:",o),d({user_id:o}).then(r=>{const n=r.message[0].profile;h(n)})},[o]);const p=()=>{i(),window.location.href="/login"};return e.jsx("div",{className:"bg-white shadow-md flex flex-col w-full box-border flex-shrink-0 sticky top-0 left-auto right-0 z-[1100] p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-lg text-black",children:e.jsx(c,{to:"/dashboard",className:"text-black",children:e.jsx("span",{className:"font-bold text-black",children:e.jsx("img",{src:"http://10.80.4.63/files/novel%20logo.webp",alt:"logo",className:"w-12 h-12"})})})}),e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsx("button",{className:"text-gray-600 text-2xl p-2 relative",onClick:r=>{r.stopPropagation(),t(!a),a||setTimeout(()=>{document.addEventListener("click",function n(_){t(!1),document.removeEventListener("click",n)})},0)},children:e.jsx("div",{className:"w-10 h-10 text-center rounded-full flex items-center justify-center text-base text-white bg-[rgb(24,161,161)] mr-2",children:x})}),a&&e.jsx("div",{className:"absolute right-4 top-12 w-40 bg-white shadow-lg rounded-md border-2 border-gray-200 ",children:e.jsx("ul",{className:"text-gray-700 flex flex-col gap-2",children:e.jsx("li",{className:"px-4 py-3 hover:bg-gray-200 cursor-pointer",onClick:p,children:"Logout"})})})]})]})})}function y({isOpen:s,toggleSidebar:a}){return e.jsx("div",{className:`bg-white box-shadow-lg text-black overflow-y-auto flex flex-col h-full z-[1200] fixed top-4 left-0 transition-all duration-300 ${s?"w-[270px]":"w-[60px]"}`,children:e.jsxs("nav",{className:"flex flex-col gap-4 p-4",children:[e.jsx(k,{onClick:a,className:"cursor-pointer font-bold text-black",size:20}),[{icon:j,size:20,text:"View Ticket",path:"/dashboard/view_tickets"},{icon:w,size:20,text:"Sent Tickets",path:"/dashboard/sent_tickets"},{icon:v,size:20,text:"Ticket History",path:"/dashboard/ticket_history"}].map((t,i)=>e.jsxs(c,{to:t.path,className:"flex text-lg items-center gap-4 p-2 mt-2 rounded-lg cursor-pointer hover:bg-[rgb(177,216,216)] hover:text-white transition font-bold",children:[e.jsx(t.icon,{size:30}),s&&e.jsx("span",{children:t.text})]},i))]})})}const E=()=>{const[s,a]=l.useState(!1),t=()=>{a(!s)};return e.jsxs("div",{className:`flex-1 transition-all duration-300 ${s?"ml-[270px]":"ml-[60px]"}`,children:[e.jsx(y,{isOpen:s,toggleSidebar:t}),e.jsx(N,{toggleSidebar:t}),e.jsx("div",{className:"p-4 bg-gray-100 min-h-screen",children:e.jsx(m,{})})]})};export{E as default};
