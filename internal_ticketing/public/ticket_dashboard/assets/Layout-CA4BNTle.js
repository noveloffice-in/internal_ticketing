import{r as o,f,u as g,E as h,j as e,L as c,O as m}from"./index-kZWgRziL.js";import{a as b,F as j,b as w}from"./js.cookie-DJbBQs1m.js";import{P as v}from"./index-C2tcYtx8.js";function k({toggleSidebar:s}){const[a,t]=o.useState(!1),{logout:l}=f();g();const i=b.get("user_id"),{call:d}=h("internal_ticketing.ticketing_api.get_user_icon"),[x,p]=o.useState(null);o.useEffect(()=>{console.log("user_id:",i),d({user_id:i}).then(r=>{const n=r.message[0].profile;p(n)})},[i]);const u=()=>{l(),window.location.href="/login"};return e.jsx("div",{className:"bg-white shadow-md flex flex-col w-full box-border flex-shrink-0 sticky top-0 left-auto right-0 z-[1100] p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-lg text-black",children:e.jsx(c,{to:"/dashboard",className:"text-black",children:e.jsx("span",{className:"font-bold text-black",children:e.jsx("img",{src:"http://10.80.4.63/files/novel%20logo.webp",alt:"logo",className:"w-12 h-12"})})})}),e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsx("button",{className:"text-gray-600 text-2xl p-2 relative",onClick:r=>{r.stopPropagation(),t(!a),a||setTimeout(()=>{document.addEventListener("click",function n(y){t(!1),document.removeEventListener("click",n)})},0)},children:e.jsx("div",{className:"w-10 h-10 text-center rounded-full flex items-center justify-center text-base text-white bg-[rgb(24,161,161)] mr-2",children:x})}),a&&e.jsx("div",{className:"absolute right-4 top-12 w-40 bg-white shadow-lg rounded-md border-2 border-gray-200 ",children:e.jsx("ul",{className:"text-gray-700 flex flex-col gap-2",children:e.jsx("li",{className:"px-4 py-3 hover:bg-gray-200 cursor-pointer",onClick:u,children:"Logout"})})})]})]})})}function N({isOpen:s,toggleSidebar:a}){return e.jsx("div",{className:`bg-white box-shadow-lg text-black overflow-y-auto flex flex-col h-full z-[1200] fixed top-4 left-0 transition-all duration-300 ${s?"w-[270px]":"w-[60px]"}`,children:e.jsxs("nav",{className:"flex flex-col gap-4 p-4",children:[e.jsx(w,{onClick:a,className:"cursor-pointer font-bold text-black",size:20}),[{icon:j,text:"Ticket History",path:"/dashboard/tickets-history"},{icon:v,text:"View Ticket",path:"/dashboard/ticket"}].map((t,l)=>e.jsxs(c,{to:t.path,className:"flex items-center gap-4 p-2 mt-2 rounded-lg cursor-pointer hover:bg-gray-700 transition font-bold",children:[e.jsx(t.icon,{size:30}),s&&e.jsx("span",{children:t.text})]},l))]})})}const L=()=>{const[s,a]=o.useState(!1),t=()=>{a(!s)};return e.jsxs("div",{className:`flex-1 transition-all duration-300 ${s?"ml-[270px]":"ml-[60px]"}`,children:[e.jsx(N,{isOpen:s,toggleSidebar:t}),e.jsx(k,{toggleSidebar:t}),e.jsx("div",{className:"p-4 bg-gray-100 min-h-screen",children:e.jsx(m,{})})]})};export{L as default};
